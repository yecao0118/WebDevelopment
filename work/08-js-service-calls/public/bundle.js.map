{"version":3,"file":"bundle.js","mappings":"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","sources":["webpack://08-js-service-calls/./src/constants.js","webpack://08-js-service-calls/./src/model.js","webpack://08-js-service-calls/./src/render.js","webpack://08-js-service-calls/./src/services.js","webpack://08-js-service-calls/./src/state.js","webpack://08-js-service-calls/webpack/bootstrap","webpack://08-js-service-calls/webpack/runtime/define property getters","webpack://08-js-service-calls/webpack/runtime/hasOwnProperty shorthand","webpack://08-js-service-calls/webpack/runtime/make namespace object","webpack://08-js-service-calls/./src/main.js"],"sourcesContent":["export const MESSAGES = {\n    'auth-insufficient': \"Incorrect username. Please try again.\",\n    'required-username': \"Username is required and must be alphanumeric.\",\n    'network-error': \"Network issue. Please try again later.\",\n    'auth-missing': \"You are not logged in.\",\n    default: \"An unknown error occurred. Please try again.\"\n  };\n  \n  export const PAGES = {\n    LOGIN: 'LOGIN',\n    WORD: 'WORD',\n  };\n","// model.js\nimport { fetchLogin, fetchSession, fetchLogout, fetchWord, updateWord } from './services.js';\nimport { state } from './state.js';\nimport { PAGES } from './constants.js';\n\n// 登录操作\nexport function login(username) {\n  return fetchLogin(username)\n    .then(({ username }) => {\n      state.username = username;\n      state.page = PAGES.WORD;\n      state.error = '';\n      return loadWord();\n    })\n    .catch(error => {\n      state.error = error.error;\n      throw error;\n    });\n}\n\n// 检查会话状态\nexport function checkSession() {\n  return fetchSession()\n    .then(({ username }) => {\n      state.username = username;\n      state.page = PAGES.WORD;\n      return loadWord();\n    })\n    .catch(() => {\n      state.page = PAGES.LOGIN;\n    });\n}\n\n// 登出操作\nexport function logout() {\n  return fetchLogout()\n    .then(() => {\n      state.username = '';\n      state.storedWord = '';\n      state.error = '';\n      state.page = PAGES.LOGIN;\n    })\n    .catch(error => {\n      state.error = error.error;\n      throw error;\n    });\n}\n\n// 加载存储的单词\nexport function loadWord() {\n  return fetchWord()\n    .then(({ storedWord }) => {\n      state.storedWord = storedWord;\n    })\n    .catch(error => {\n      state.error = error.error;\n      throw error;\n    });\n}\n\n// 更新存储的单词\nexport function updateStoredWord(word) {\n  return updateWord(word)\n    .then(({ storedWord }) => {\n      state.storedWord = storedWord;\n      state.error = '';\n    })\n    .catch(error => {\n      state.error = error.error;\n      throw error;\n    });\n}","import { MESSAGES } from './constants.js';\nimport { state } from './state.js';\n\nexport function render(appEl) {\n  if (state.page === 'LOGIN') {\n    renderLogin(appEl);\n  } else if (state.page === 'WORD') {\n    renderWordView(appEl);\n  }\n}\n\n// 渲染登录界面\nfunction renderLogin(appEl) {\n  const errorMessage = state.error ? MESSAGES[state.error] || MESSAGES.default : '';\n  appEl.innerHTML = `\n    <h2>Login</h2>\n    <div class=\"form-group\">\n      <input type=\"text\" id=\"username-input\" placeholder=\"Enter your username\" required>\n      <div class=\"button-group\">\n      <button class=\"login-button\">Login</button>\n      </div>\n    </div>\n    ${errorMessage ? `<div class=\"error\">${errorMessage}</div>` : ''}\n  `;\n}\n\n// 渲染单词界面\nfunction renderWordView(appEl) {\n  const errorMessage = state.error ? MESSAGES[state.error] || MESSAGES.default : '';\n  appEl.innerHTML = `\n    <h2>Welcome, ${state.username}</h2>\n    <div class=\"stored-word\">\n      <div class=\"stored-word-line\">Your stored word: <strong>${state.storedWord}</strong></div>\n      <input type=\"text\" id=\"word-input\" class=\"word-input\" placeholder=\"Update your word\" value=\"${state.storedWord}\">\n      <button class=\"update-word-button\">Update Word</button>\n    </div>\n    <div class=\"button-group\">\n    <button class=\"logout-button\">Logout</button>\n    </div>\n    ${errorMessage ? `<div class=\"error\">${errorMessage}</div>` : ''}\n  `;\n}","// This is a sample file that demonstrates\n// how you can write an abstraction around\n// a fetch() call\n// This exported function returns a promise\n// that resolves with data\n// or rejects with an error object\n//\n// The caller of this function can decide\n// what to do with the data\n// or what to do with the error\n//\n// You can add to this file and use this function\n// or write your own files/functions\n\nexport function fetchLogin(username) {\n  return fetch('/api/session/', {\n    method: 'POST',\n    headers: {\n      'content-type': 'application/json', // set this header when sending JSON in the body of request\n    },\n    body: JSON.stringify( { username } ),\n  })\n  // fetch() rejects on network error\n  // So we convert that to a formatted error object\n  // so our caller can handle all \"errors\" in a similar way\n  .catch( err => Promise.reject({ error: 'network-error' }) )\n  .then( response => {\n    if(!response.ok) {  // response.ok checks the status code from the service\n      // This service returns JSON on errors,\n      // so we use that as the error object and reject\n      return response.json().then( err => Promise.reject(err) );\n    }\n    return response.json(); // happy status code means resolve with data from service\n  });\n}\n\n// 检查会话请求\nexport function fetchSession() {\n  return fetch('/api/session')\n    .catch(() => Promise.reject({ error: 'network-error' })) // 捕获网络错误\n    .then(response => {\n      if (!response.ok) {\n        return response.json().then(err => Promise.reject(err));\n      }\n      return response.json();\n    });\n}\n\n// 登出请求\nexport function fetchLogout() {\n  return fetch('/api/session', { method: 'DELETE' })\n    .catch(() => Promise.reject({ error: 'network-error' })) // 捕获网络错误\n    .then(response => {\n      if (!response.ok) {\n        return response.json().then(err => Promise.reject(err));\n      }\n      return response.json();\n    });\n}\n\n// 获取存储单词请求\nexport function fetchWord() {\n  return fetch('/api/word')\n    .catch(() => Promise.reject({ error: 'network-error' })) // 捕获网络错误\n    .then(response => {\n      if (!response.ok) {\n        return response.json().then(err => Promise.reject(err));\n      }\n      return response.json();\n    });\n}\n\n// 更新存储单词请求\nexport function updateWord(word) {\n  return fetch('/api/word', {\n    method: 'PUT',\n    headers: {\n      'content-type': 'application/json', // 设置为 JSON 格式\n    },\n    body: JSON.stringify({ word }),\n  })\n  .catch(() => Promise.reject({ error: 'network-error' })) // 捕获网络错误\n  .then(response => {\n    if (!response.ok) {\n      return response.json().then(err => Promise.reject(err));\n    }\n    return response.json();\n  });\n}\n\n\n\n","// state.js\nexport const state = {\n    username: '',\n    storedWord: '',\n    error: '',\n    page: '',\n  };","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import { state } from './state.js';\nimport { render } from './render.js';\nimport { login, checkSession, logout, updateStoredWord } from './model.js';\n\nconst appEl = document.querySelector('#app');\n\n// 初始渲染\ncheckSession().then(() => {\n  render(appEl);\n});\n\n// 事件监听器：处理点击事件\nappEl.addEventListener('click', (e) => {\n  if (e.target.classList.contains('login-button')) {\n    const username = document.querySelector('#username-input').value.trim();\n    login(username)\n      .then(() => render(appEl))\n      .catch(() => render(appEl));\n  }\n\n  if (e.target.classList.contains('logout-button')) {\n    logout()\n      .then(() => render(appEl))\n      .catch(() => render(appEl));\n  }\n\n  if (e.target.classList.contains('update-word-button')) {\n    const newWord = document.querySelector('#word-input').value.trim();\n    updateStoredWord(newWord)\n      .then(() => render(appEl))\n      .catch(() => render(appEl));\n  }\n});\n\n// 事件监听器：处理输入事件\nappEl.addEventListener('input', (e) => {\n  if (e.target.classList.contains('word-input')) {\n    state.storedWord = e.target.value;\n  }\n});"],"names":["MESSAGES","PAGES","LOGIN","WORD","fetchLogin","fetchSession","fetchLogout","fetchWord","updateWord","state","login","username","then","_ref","page","error","loadWord","checkSession","_ref2","logout","storedWord","_ref3","updateStoredWord","word","_ref4","render","appEl","renderLogin","renderWordView","errorMessage","innerHTML","concat","fetch","method","headers","body","JSON","stringify","err","Promise","reject","response","ok","json","document","querySelector","addEventListener","e","target","classList","contains","value","trim","newWord"],"sourceRoot":""}